Name: x11-drivers
Version: 7.2
Release: 1ev
Summary: A collection of input and video drivers for the X Server
URL: http://www.x.org/
Group: User Interface/X
License: MIT
Vendor: MSP Slackware
Source0: ftp://ftp.x.org/pub/individual/driver/xf86-input-acecad-1.1.1.tar.bz2
Source1: ftp://ftp.x.org/pub/individual/driver/xf86-input-aiptek-1.0.1.tar.bz2
Source2: ftp://ftp.x.org/pub/individual/driver/xf86-input-calcomp-1.1.0.tar.bz2
Source3: ftp://ftp.x.org/pub/individual/driver/xf86-input-citron-2.2.0.tar.bz2
Source4: ftp://ftp.x.org/pub/individual/driver/xf86-input-digitaledge-1.1.0.tar.bz2
Source5: ftp://ftp.x.org/pub/individual/driver/xf86-input-dmc-1.1.0.tar.bz2
Source6: ftp://ftp.x.org/pub/individual/driver/xf86-input-dynapro-1.1.0.tar.bz2
Source7: ftp://ftp.x.org/pub/individual/driver/xf86-input-elo2300-1.1.0.tar.bz2
Source8: ftp://ftp.x.org/pub/individual/driver/xf86-input-elographics-1.0.0.5.tar.bz2
Source9: ftp://ftp.x.org/pub/individual/driver/xf86-input-evdev-1.1.5.tar.bz2
Source10: ftp://ftp.x.org/pub/individual/driver/xf86-input-fpit-1.1.0.tar.bz2
Source11: ftp://ftp.x.org/pub/individual/driver/xf86-input-hyperpen-1.1.0.tar.bz2
Source12: ftp://ftp.x.org/pub/individual/driver/xf86-input-jamstudio-1.1.0.tar.bz2
Source13: ftp://ftp.x.org/pub/individual/driver/xf86-input-joystick-1.1.1.tar.bz2
Source14: ftp://ftp.x.org/pub/individual/driver/xf86-input-keyboard-1.1.1.tar.bz2
Source15: ftp://ftp.x.org/pub/individual/driver/xf86-input-magellan-1.1.0.tar.bz2
Source16: ftp://ftp.x.org/pub/individual/driver/xf86-input-magictouch-1.0.0.5.tar.bz2
Source17: ftp://ftp.x.org/pub/individual/driver/xf86-input-microtouch-1.1.0.tar.bz2
Source18: ftp://ftp.x.org/pub/individual/driver/xf86-input-mouse-1.1.2.tar.bz2
Source19: ftp://ftp.x.org/pub/individual/driver/xf86-input-mutouch-1.1.0.tar.bz2
Source20: ftp://ftp.x.org/pub/individual/driver/xf86-input-palmax-1.1.0.tar.bz2
Source21: ftp://ftp.x.org/pub/individual/driver/xf86-input-penmount-1.2.0.tar.bz2
Source22: ftp://ftp.x.org/pub/individual/driver/xf86-input-spaceorb-1.1.0.tar.bz2
Source23: ftp://ftp.x.org/pub/individual/driver/xf86-input-summa-1.1.0.tar.bz2
Source24: ftp://ftp.x.org/pub/individual/driver/xf86-input-tek4957-1.1.0.tar.bz2
Source25: ftp://ftp.x.org/pub/individual/driver/xf86-input-ur98-1.1.0.tar.bz2
Source26: ftp://ftp.x.org/pub/individual/driver/xf86-input-vmmouse-12.4.1.tar.bz2
Source27: ftp://ftp.x.org/pub/individual/driver/xf86-input-void-1.1.0.tar.bz2
Source28: ftp://ftp.x.org/pub/individual/driver/xf86-video-apm-1.1.1.tar.bz2
Source29: ftp://ftp.x.org/pub/individual/driver/xf86-video-ark-0.6.0.tar.bz2
Source30: ftp://ftp.x.org/pub/individual/driver/xf86-video-ast-0.81.0.tar.bz2
Source31: ftp://ftp.x.org/pub/individual/driver/xf86-video-ati-6.6.3.tar.bz2
Source32: ftp://ftp.x.org/pub/individual/driver/xf86-video-chips-1.1.1.tar.bz2
Source33: ftp://ftp.x.org/pub/individual/driver/xf86-video-cirrus-1.1.0.tar.bz2
Source34: ftp://ftp.x.org/pub/individual/driver/xf86-video-cyrix-1.1.0.tar.bz2
Source35: ftp://ftp.x.org/pub/individual/driver/xf86-video-dummy-0.2.0.tar.bz2
Source36: ftp://ftp.x.org/pub/individual/driver/xf86-video-fbdev-0.3.1.tar.bz2
Source37: ftp://ftp.x.org/pub/individual/driver/xf86-video-glint-1.1.1.tar.bz2
Source38: ftp://ftp.x.org/pub/individual/driver/xf86-video-i128-1.2.1.tar.bz2
Source39: ftp://ftp.x.org/pub/individual/driver/xf86-video-i740-1.1.0.tar.bz2
Source40: ftp://ftp.x.org/pub/individual/driver/xf86-video-i810-1.6.5.tar.bz2
Source41: ftp://ftp.x.org/pub/individual/driver/xf86-video-imstt-1.1.0.tar.bz2
Source42: ftp://ftp.x.org/pub/individual/driver/xf86-video-mga-1.4.6.1.tar.bz2
Source43: ftp://ftp.x.org/pub/individual/driver/xf86-video-neomagic-1.1.1.tar.bz2
Source44: ftp://ftp.x.org/pub/individual/driver/xf86-video-newport-0.2.1.tar.bz2
Source45: ftp://ftp.x.org/pub/individual/driver/xf86-video-nsc-2.8.2.tar.bz2
Source46: ftp://ftp.x.org/pub/individual/driver/xf86-video-nv-1.2.2.1.tar.bz2
Source47: ftp://ftp.x.org/pub/individual/driver/xf86-video-rendition-4.1.3.tar.bz2
Source48: ftp://ftp.x.org/pub/individual/driver/xf86-video-s3-0.5.0.tar.bz2
Source49: ftp://ftp.x.org/pub/individual/driver/xf86-video-s3virge-1.9.1.tar.bz2
Source50: ftp://ftp.x.org/pub/individual/driver/xf86-video-savage-2.1.2.tar.bz2
Source51: ftp://ftp.x.org/pub/individual/driver/xf86-video-siliconmotion-1.4.2.tar.bz2
Source52: ftp://ftp.x.org/pub/individual/driver/xf86-video-sis-0.9.3.tar.bz2
Source53: ftp://ftp.x.org/pub/individual/driver/xf86-video-sisusb-0.8.1.tar.bz2
Source54: ftp://ftp.x.org/pub/individual/driver/xf86-video-tdfx-1.3.0.tar.bz2
Source55: ftp://ftp.x.org/pub/individual/driver/xf86-video-tga-1.1.0.tar.bz2
Source56: ftp://ftp.x.org/pub/individual/driver/xf86-video-trident-1.2.3.tar.bz2
Source57: ftp://ftp.x.org/pub/individual/driver/xf86-video-tseng-1.1.1.tar.bz2
Source58: ftp://ftp.x.org/pub/individual/driver/xf86-video-v4l-0.1.1.tar.bz2
Source59: ftp://ftp.x.org/pub/individual/driver/xf86-video-vesa-1.3.0.tar.bz2
Source60: ftp://ftp.x.org/pub/individual/driver/xf86-video-vga-4.1.0.tar.bz2
Source61: ftp://ftp.x.org/pub/individual/driver/xf86-video-via-0.2.2.tar.bz2
Source62: ftp://ftp.x.org/pub/individual/driver/xf86-video-vmware-10.14.1.tar.bz2
Source63: ftp://ftp.x.org/pub/individual/driver/xf86-video-voodoo-1.1.1.tar.bz2
Buildroot: %{_tmppath}/%{name}-buildroot
BuildRequires: make, gcc-core, pkg-config, x11-server, mesalib, libdrm
Requires: x11-server

%description
The Xorg drivers provide the means for the xserver to take advantage of
installed hardware.


%prep
%setup -q -c -a0 -a1 -a2 -a3 -a4 -a5 -a6 -a7 -a8 -a9 -a10 -a11
%setup -q -c -D -a12 -a13 -a14 -a15 -a16 -a17 -a18 -a19 -a20 -a21 -a22 -a23
%setup -q -c -D -a24 -a25 -a26 -a27 -a28 -a29 -a30 -a31 -a32 -a33 -a34 -a35
%setup -q -c -D -a36 -a37 -a38 -a39 -a40 -a41 -a42 -a43 -a44 -a45 -a46 -a47
%setup -q -c -D -a48 -a49 -a50 -a51 -a52 -a53 -a54 -a55 -a56 -a57 -a58 -a59
%setup -q -c -D -a60 -a61 -a62 -a63


%build
for dir in $(ls -1)
do
	pushd "$dir"
	%configure \
		--with-xorg-module-dir=%{_libdir}/X11/modules
	make %{_smp_mflags}
	popd
done


%install
[ -d "$RPM_BUILD_ROOT" ] && rm -rf "$RPM_BUILD_ROOT"
for dir in $(ls -1)
do
	pushd "$dir"
	make install DESTDIR="$RPM_BUILD_ROOT"
	for file in AUTHORS COPYING README ChangeLog
	do
		[ -e "$file" ] && cp "$file" ../$file-${dir%%-}
	done
	popd
done


%post
/sbin/ldconfig

%postun
/sbin/ldconfig


%clean
[ "$RPM_BUILD_ROOT" != "/" ] && rm -rf "$RPM_BUILD_ROOT"


%files
%defattr(-, root, root)
%doc COPYING* README*
%{_libdir}/X11/modules/*.uc
%{_libdir}/X11/modules/drivers/
%{_libdir}/X11/modules/input/
%{_libdir}/X11/modules/multimedia/theatre*.*
%{_libdir}/*XvMC*.*
%{_mandir}/man4*/*.4*
